(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[858],{547:(e,t,s)=>{"use strict";s.d(t,{default:()=>w});var r=s(3318),n=s(7497),a=s(6951),l=s(1092);let i=n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,r.jsx)("div",{ref:t,className:(0,l.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",s),...n})});i.displayName="Card";let o=n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,r.jsx)("div",{ref:t,className:(0,l.cn)("flex flex-col space-y-1.5 p-6",s),...n})});o.displayName="CardHeader";let d=n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,r.jsx)("h3",{ref:t,className:(0,l.cn)("text-2xl font-semibold leading-none tracking-tight",s),...n})});d.displayName="CardTitle",n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,r.jsx)("p",{ref:t,className:(0,l.cn)("text-sm text-muted-foreground",s),...n})}).displayName="CardDescription";let c=n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,r.jsx)("div",{ref:t,className:(0,l.cn)("p-6 pt-0",s),...n})});c.displayName="CardContent",n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,r.jsx)("div",{ref:t,className:(0,l.cn)("flex items-center p-6 pt-0",s),...n})}).displayName="CardFooter";var m=s(9449);let u=(0,m.A)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),x=(0,m.A)("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);function p(e){let{postSlug:t,onCommentSubmit:s,parentId:l,onCancel:m,isReply:p=!1}=e,[f,g]=(0,n.useState)({name:"",email:"",content:""}),[h,v]=(0,n.useState)(!1),y=async e=>{if(e.preventDefault(),!f.name.trim()||!f.content.trim())return;v(!0);let r={id:Date.now().toString(),name:f.name.trim(),email:f.email.trim(),content:f.content.trim(),date:new Date().toISOString(),postSlug:t,parentId:l||void 0,depth:+!!l,replies:[]},n=[...JSON.parse(localStorage.getItem("comments")||"[]"),r];localStorage.setItem("comments",JSON.stringify(n)),s(r),g({name:"",email:"",content:""}),v(!1)},b=e=>{g(t=>({...t,[e.target.name]:e.target.value}))};return(0,r.jsxs)(i,{className:p?"ml-4 sm:ml-8 border-l-2 border-primary/20":"",children:[(0,r.jsx)(o,{className:"pb-4",children:(0,r.jsxs)(d,{className:"flex items-center gap-2 text-base sm:text-lg",children:[(0,r.jsx)(u,{className:"h-4 w-4 sm:h-5 sm:w-5"}),p?"대댓글 작성":"댓글 작성"]})}),(0,r.jsx)(c,{children:(0,r.jsxs)("form",{onSubmit:y,className:"space-y-3 sm:space-y-4",children:[(0,r.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("label",{htmlFor:"name",className:"text-sm font-medium",children:"이름 *"}),(0,r.jsx)("input",{id:"name",name:"name",type:"text",required:!0,value:f.name,onChange:b,className:"w-full px-3 py-2 text-sm border border-input rounded-md bg-background text-foreground placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",placeholder:"이름을 입력하세요"})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("label",{htmlFor:"email",className:"text-sm font-medium",children:"이메일"}),(0,r.jsx)("input",{id:"email",name:"email",type:"email",value:f.email,onChange:b,className:"w-full px-3 py-2 text-sm border border-input rounded-md bg-background text-foreground placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",placeholder:"이메일을 입력하세요 (선택사항)"})]})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("label",{htmlFor:"content",className:"text-sm font-medium",children:"댓글 *"}),(0,r.jsx)("textarea",{id:"content",name:"content",required:!0,rows:3,value:f.content,onChange:b,className:"w-full px-3 py-2 text-sm border border-input rounded-md bg-background text-foreground placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 resize-none",placeholder:"댓글을 입력하세요..."})]}),(0,r.jsxs)("div",{className:"flex flex-col sm:flex-row gap-2 sm:gap-3",children:[(0,r.jsx)(a.$,{type:"submit",disabled:h||!f.name.trim()||!f.content.trim(),className:"w-full sm:w-auto text-sm",children:h?"작성 중...":(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(x,{className:"h-4 w-4 mr-2"}),p?"대댓글 작성":"댓글 작성"]})}),p&&m&&(0,r.jsx)(a.$,{type:"button",variant:"outline",onClick:m,className:"w-full sm:w-auto text-sm",children:"취소"})]})]})})]})}var f=s(5832);let g=(0,m.A)("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]),h=(0,m.A)("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]),v=(0,m.A)("Reply",[["polyline",{points:"9 17 4 12 9 7",key:"hvgpf2"}],["path",{d:"M20 18v-2a4 4 0 0 0-4-4H4",key:"5vmcpk"}]]);var y=s(7701);let b=(0,m.A)("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);function N(e){let{postSlug:t,onCommentAdded:s}=e,[a,l]=(0,n.useState)([]),[i,o]=(0,n.useState)(null),[d,c]=(0,n.useState)(new Set);(0,n.useEffect)(()=>{l(m(JSON.parse(localStorage.getItem("comments")||"[]").filter(e=>e.postSlug===t)).sort((e,t)=>new Date(t.date).getTime()-new Date(e.date).getTime()))},[t]);let m=e=>{let t=new Map,s=[];return e.forEach(e=>{t.set(e.id,{...e,replies:[]})}),e.forEach(e=>{let r=t.get(e.id);if(e.parentId){let s=t.get(e.parentId);s&&(s.replies=s.replies||[],s.replies.push(r))}else s.push(r)}),s};(0,n.useEffect)(()=>{let e=e=>{e.postSlug===t&&l(m([...JSON.parse(localStorage.getItem("comments")||"[]"),e]).sort((e,t)=>new Date(t.date).getTime()-new Date(e.date).getTime()))};return window.addEventListener("commentAdded",t=>{e(t.detail)}),()=>{window.removeEventListener("commentAdded",t=>{e(t.detail)})}},[t]);let u=e=>{o(i===e?null:e)},x=e=>{s(e),o(null)},p=()=>{o(null)},f=e=>{let t=new Set(d);t.has(e)?t.delete(e):t.add(e),c(t)};return 0===a.length?(0,r.jsxs)("div",{className:"text-center py-8",children:[(0,r.jsx)(g,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),(0,r.jsx)("h3",{className:"text-lg font-semibold text-muted-foreground mb-2",children:"첫 번째 댓글을 작성해보세요!"}),(0,r.jsx)("p",{className:"text-sm text-muted-foreground",children:"여러분의 의견과 피드백을 기다리고 있습니다."})]}):(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 mb-6",children:[(0,r.jsx)(g,{className:"h-5 w-5"}),(0,r.jsxs)("h3",{className:"text-lg font-semibold",children:["댓글 ",a.length,"개"]})]}),(0,r.jsx)("div",{className:"space-y-4",children:a.map(e=>(0,r.jsx)(j,{comment:e,postSlug:t,showReplyForm:i,showReplies:d,onReplyClick:u,onReplySubmit:x,onReplyCancel:p,onToggleReplies:f},e.id))})]})}function j(e){var t,s;let{comment:n,postSlug:d,showReplyForm:m,showReplies:x,onReplyClick:g,onReplySubmit:N,onReplyCancel:w,onToggleReplies:k}=e,S=n.replies&&n.replies.length>0,C=x.has(n.id),R=m===n.id;return(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)(i,{className:"border-l-4 border-l-primary ".concat(n.depth>0?"ml-4 sm:ml-8":""),children:[(0,r.jsx)(o,{className:"pb-3",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(u,{className:"h-4 w-4 text-muted-foreground"}),(0,r.jsx)("span",{className:"font-medium",children:n.name}),n.email&&(0,r.jsx)(f.E,{variant:"outline",className:"text-xs",children:n.email})]}),(0,r.jsxs)("div",{className:"flex items-center gap-1 text-sm text-muted-foreground",children:[(0,r.jsx)(h,{className:"h-3 w-3"}),(0,r.jsx)("span",{children:(0,l.Y)(n.date)})]})]})}),(0,r.jsxs)(c,{className:"pt-0",children:[(0,r.jsx)("p",{className:"text-foreground whitespace-pre-wrap leading-relaxed mb-4",children:n.content}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsxs)(a.$,{variant:"ghost",size:"sm",onClick:()=>g(n.id),className:"text-xs",children:[(0,r.jsx)(v,{className:"h-3 w-3 mr-1"}),"답글"]}),S&&(0,r.jsx)(a.$,{variant:"ghost",size:"sm",onClick:()=>k(n.id),className:"text-xs",children:C?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(y.A,{className:"h-3 w-3 mr-1"}),"답글 숨기기"]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(b,{className:"h-3 w-3 mr-1"}),"답글 보기 (",null==(t=n.replies)?void 0:t.length,")"]})})]})]})]}),R&&(0,r.jsx)("div",{className:"ml-4 sm:ml-8",children:(0,r.jsx)(p,{postSlug:d,onCommentSubmit:N,parentId:n.id,onCancel:w,isReply:!0})}),S&&C&&(0,r.jsx)("div",{className:"ml-4 sm:ml-8 space-y-4",children:null==(s=n.replies)?void 0:s.map(e=>(0,r.jsx)(j,{comment:e,postSlug:d,showReplyForm:m,showReplies:x,onReplyClick:g,onReplySubmit:N,onReplyCancel:w,onToggleReplies:k},e.id))})]})}function w(e){let{postSlug:t}=e,[s,a]=(0,n.useState)(null);return(0,r.jsxs)("div",{className:"space-y-8",children:[(0,r.jsx)(p,{postSlug:t,onCommentSubmit:e=>{a(e);let t=new CustomEvent("commentAdded",{detail:e});window.dispatchEvent(t)}}),(0,r.jsx)(N,{postSlug:t,onCommentAdded:a})]})}},1092:(e,t,s)=>{"use strict";s.d(t,{Y:()=>l,cn:()=>a});var r=s(2699),n=s(3938);function a(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return(0,n.QP)((0,r.$)(t))}function l(e){return new Date(e).toLocaleDateString("ko-KR",{year:"numeric",month:"long",day:"numeric"})}},5832:(e,t,s)=>{"use strict";s.d(t,{E:()=>i});var r=s(3318);s(7497);var n=s(7299),a=s(1092);let l=(0,n.F)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function i(e){let{className:t,variant:s,...n}=e;return(0,r.jsx)("div",{className:(0,a.cn)(l({variant:s}),t),...n})}},6251:(e,t,s)=>{Promise.resolve().then(s.bind(s,547)),Promise.resolve().then(s.t.bind(s,5345,23))},6951:(e,t,s)=>{"use strict";s.d(t,{$:()=>o});var r=s(3318),n=s(7497),a=s(7299),l=s(1092);let i=(0,a.F)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),o=n.forwardRef((e,t)=>{let{className:s,variant:n,size:a,asChild:o=!1,...d}=e;return(0,r.jsx)("button",{className:(0,l.cn)(i({variant:n,size:a,className:s})),ref:t,...d})});o.displayName="Button"},7701:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(9449).A)("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]])}},e=>{e.O(0,[967,345,947,250,358],()=>e(e.s=6251)),_N_E=e.O()}]);